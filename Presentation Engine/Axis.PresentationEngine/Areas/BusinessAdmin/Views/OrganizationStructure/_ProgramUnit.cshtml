<form name="addProgramForm" data-ng-submit="addProgramForm.$valid" xen-check-form data-on-save="saveProgramUnitAssignment(isNext, isMandatory, hasErrors, keepForm)" permission-key="{{permissionKey}}" permission="{{resolvePermission(pageSecurity)}}" novalidate bs-modifiable="true" set-form-status="addProgramForm">
    <div class="sidebar-offcanvas" style="height:100%">
        <div class="panel panel-default nomargin-top padding-bottom-small">
            <div class="panel-heading">
                <div class="panel-title">
                    <div class="col-md-12 col-sm-12 col-xs-12 border-top border-bottom padding-xsmall nopadding-right margin-bottom-small">
                        <h3 class="nomargin padding-left-small pull-left">Assign Program Unit to Program</h3>
                        <a href="javascript:void(0)" alt="Close Panel" ng-click="closeProgramFlyout()" class="pull-right nomargin-right">
                            <div class="btn-group">
                                <i class="fa fa-times-circle">
                                    <span class="sr-only">Close Section</span>
                                </i>
                            </div>
                        </a>
                    </div>
                </div>
            </div>

            <div class="panel-body nopadding-top" id="panel-last-accessed">
                <div class="panel-body panel-scroll ps-active-y">
                    <div class="row">
                        <div class="col-lg-11 col-md-11 col-sm-11 col-xs-12 padding-bottom-small"  ng-class="{ 'has-error' : addProgramForm.programName.$invalid && !addProgramForm.programName.$pristine }">
                            <div class="form-group-lg padding-bottom-small">
                                <label for="voidReason">Program <sup> &nbsp*</sup> </label>
                                <select ng-model="programUnitHierarchy.ProgramID"
                                        id="programName" name="programName" class="form-control"
                                        ng-options="program.ID as program.Name for program in programs" data-validation-name="Program Name" ng-required="true" ng-change="onProgramChange()">
                                    <option value="">Select</option>
                                </select>
                                <span class="select-btn"><i class="xen-select"></i></span>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-11 col-md-11 col-sm-11 col-xs-12 padding-bottom-small">
                            <p>Make Program Unit available to the following divisions.</p>
                            <xen-multi-select-typeahead class="xen-multi-select" element-id="divisionName" element-name="divisionName" label="Divisions" form-name="addProgramForm" data-validation-name="Divisions Name" selected-values="programUnitHierarchy.Divisions" ng-model="divisions" is-required="true" data-validation-name="Division Name"></xen-multi-select-typeahead>
                        </div>
                    </div>
                </div>
            </div>

            <div class="panel-footer nopadding-top">
                <div class="col-lg-12 nopadding-left text-right">
                    <button type="button" id="programUnitAssignmentClose" name="programUnitAssignmentClose" class="btn btn-info-alt uppercase btn-lg" ng-click="closeProgramFlyout()">CANCEL</button>
                    <xen-submit name="submit" value="SAVE" permission-key="{{permissionKey}}" permission="{{resolvePermission(pageSecurity)}}" is-next="false" mandatory="true" data-style="btn btn-default uppercase btn-lg"></xen-submit>
                </div>
            </div>
        </div>
        <div class="panel-footer" data-spy="affix" data-offset-top="10" data-offset-bottom="0">
        </div>
    </div>
</form>