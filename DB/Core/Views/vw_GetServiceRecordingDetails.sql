-----------------------------------------------------------------------------------------------------------------------
-- View:	    [Core].[vw_GetServiceRecordingDetails]
-- Author:		Scott Martin
-- Date:		05/05/2016
--
-- Purpose:		View to get the Service Recording details
--
-- Notes:		N/A
--
-- Depends:		N/A
--
-- REVISION HISTORY ---------------------------------------------------------------------------------------------------
-- 05/05/2016	Scott Martin	Initial Creation
-- 06/06/2016	Scott Martin	Added several ID fields and changed how duration is calculated
-- 06/29/2016	Scott Martin	Broke Service Recording into individual views
-- 11/28/2016	Sumana Sangapu	Return CallCenterHeaderSystemCreatedOn & CallCenterHeaderSystemModifiedOn, SentToCMHCDate
-----------------------------------------------------------------------------------------------------------------------

CREATE VIEW Core.vw_GetServiceRecordingDetails
AS
SELECT
	[ServiceRecordingID]
	,[ServiceRecordingVoidID]
	,[SourceHeaderID]
	,[ServiceRecordingSourceID]
	,[IsVoided]
	,[VoidDate]
	,[VoidReason]
	,[VoidUser]
	,[ContactID]
	,[MRN]
	,[FirstName]
	,[MiddleInitial]
	,[LastName]
	,[Gender]
	,[DOB]
	,[CompanyID]
	,[CompanyName]
	,[DivisionID]
	,[DivisionName]
	,[ProgramID]
	,[ProgramName]
	,[ProgramUnitID]
	,[ProgramUnitName]
	,[ServiceTypeID]
	,[ServiceType]
	,[ServicesID]
	,[ServiceName]
	,[ServiceStatusID]
	,[ServiceStatus]
	,[ServiceStartDate]
	,[ServiceEndDate]
	,[ServiceStartTime]
	,[ServiceEndTime]
	,[Duration]
	,[DeliveryMethodID]
	,[DeliveryMethod]
	,[AttendanceStatusID]
	,[AttendanceStatus]
	,[ServiceLocationID]
	,[PlaceOfService]
	,[TrackingFieldID]
	,[TrackingField]
	,[Recipient]
	,[ServiceProviderID]
	,[ServiceProvider]
	,[CredentialID]
	,[CredentialAbbreviation]
	,[Diagnosis]
	,[SupervisingProvider]
	,[CoProvider]
	,[SignatureDate]
	,[RecordedServiceSentDate]
	,[TransmittalStatus]
	,[IsCompanyActive]
	,[ProgressNoteID]
	,[DocumentStatus]
	,CallCenterHeaderSystemCreatedOn 
	,CallCenterHeaderSystemModifiedOn 
	,SentToCMHCDate
FROM
	[Registration].[vw_GetBenefitsAssistanceServiceRecordingDetails]
UNION ALL
SELECT
	[ServiceRecordingID]
	,[ServiceRecordingVoidID]
	,[SourceHeaderID]
	,[ServiceRecordingSourceID]
	,[IsVoided]
	,[VoidDate]
	,[VoidReason]
	,[VoidUser]
	,[ContactID]
	,[MRN]
	,[FirstName]
	,[MiddleInitial]
	,[LastName]
	,[Gender]
	,[DOB]
	,[CompanyID]
	,[CompanyName]
	,[DivisionID]
	,[DivisionName]
	,[ProgramID]
	,[ProgramName]
	,[ProgramUnitID]
	,[ProgramUnitName]
	,[ServiceTypeID]
	,[ServiceType]
	,[ServicesID]
	,[ServiceName]
	,[ServiceStatusID]
	,[ServiceStatus]
	,[ServiceStartDate]
	,[ServiceEndDate]
	,[ServiceStartTime]
	,[ServiceEndTime]
	,[Duration]
	,[DeliveryMethodID]
	,[DeliveryMethod]
	,[AttendanceStatusID]
	,[AttendanceStatus]
	,[ServiceLocationID]
	,[PlaceOfService]
	,[TrackingFieldID]
	,[TrackingField]
	,[Recipient]
	,[ServiceProviderID]
	,[ServiceProvider]
	,[CredentialID]
	,[CredentialAbbreviation]
	,[Diagnosis]
	,[SupervisingProvider]
	,[CoProvider]
	,[SignatureDate]
	,[RecordedServiceSentDate]
	,[TransmittalStatus]
	,[IsCompanyActive]
	,[ProgressNoteID]
	,[DocumentStatus]
	,CallCenterHeaderSystemCreatedOn 
	,CallCenterHeaderSystemModifiedOn 
	,SentToCMHCDate
FROM
	[Registration].[vw_GetContactFormsServiceRecordingDetails]
UNION ALL
SELECT
	[ServiceRecordingID]
	,[ServiceRecordingVoidID]
	,[SourceHeaderID]
	,[ServiceRecordingSourceID]
	,[IsVoided]
	,[VoidDate]
	,[VoidReason]
	,[VoidUser]
	,[ContactID]
	,[MRN]
	,[FirstName]
	,[MiddleInitial]
	,[LastName]
	,[Gender]
	,[DOB]
	,[CompanyID]
	,[CompanyName]
	,[DivisionID]
	,[DivisionName]
	,[ProgramID]
	,[ProgramName]
	,[ProgramUnitID]
	,[ProgramUnitName]
	,[ServiceTypeID]
	,[ServiceType]
	,[ServicesID]
	,[ServiceName]
	,[ServiceStatusID]
	,[ServiceStatus]
	,[ServiceStartDate]
	,[ServiceEndDate]
	,[ServiceStartTime]
	,[ServiceEndTime]
	,[Duration]
	,[DeliveryMethodID]
	,[DeliveryMethod]
	,[AttendanceStatusID]
	,[AttendanceStatus]
	,[ServiceLocationID]
	,[PlaceOfService]
	,[TrackingFieldID]
	,[TrackingField]
	,[Recipient]
	,[ServiceProviderID]
	,[ServiceProvider]
	,[CredentialID]
	,[CredentialAbbreviation]
	,[Diagnosis]
	,[SupervisingProvider]
	,[CoProvider]
	,[SignatureDate]
	,[RecordedServiceSentDate]
	,[TransmittalStatus]
	,[IsCompanyActive]
	,[ProgressNoteID]
	,[DocumentStatus]
	,CallCenterHeaderSystemCreatedOn 
	,CallCenterHeaderSystemModifiedOn 
	,SentToCMHCDate
FROM
	[CallCenter].[vw_GetCallCenterServiceRecordingDetails]
GO
